[gd_scene load_steps=11 format=3 uid="uid://ccl4knlkxfwwn"]

[ext_resource type="Script" path="res://weapons/scripts/weapon_manager.gd" id="1_fn0np"]
[ext_resource type="Resource" uid="uid://bhk3uqyrglwra" path="res://inventory/resources/weapons/iw_long_sword.tres" id="2_6w0u8"]
[ext_resource type="PackedScene" uid="uid://cjjgramw4vbos" path="res://weapons/meshes/mglb_sword.glb" id="3_wvprq"]

[sub_resource type="BoxShape3D" id="BoxShape3D_i3ksc"]
size = Vector3(0.567383, 3.37773, 0.670166)

[sub_resource type="Animation" id="Animation_cdb5k"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(-0.460536, -1.19209e-07, 0.134294)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:rotation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0.785398, 0.0306654, -3.14159)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath(".:scale")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0.999999, 0.999998, 1)]
}

[sub_resource type="Animation" id="Animation_3pwxn"]
resource_name = "attack_1"
length = 0.7
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.7),
"transitions": PackedFloat32Array(-2, -2),
"update": 0,
"values": [Vector3(-1.94087, 1.12499, -1.10643), Vector3(3.01016, -0.651447, -1.10643)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:scale")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(),
"transitions": PackedFloat32Array(),
"update": 0,
"values": []
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath(".:rotation")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 0.7),
"transitions": PackedFloat32Array(-2, -2),
"update": 0,
"values": [Vector3(-0.870086, -0.369099, -2.65328), Vector3(-0.206508, -1.34015, -1.54575)]
}

[sub_resource type="Animation" id="Animation_n3ax8"]
resource_name = "attack_2"
length = 0.7
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.7),
"transitions": PackedFloat32Array(-2, -2),
"update": 0,
"values": [Vector3(2.71608, 1.494, -1.10643), Vector3(-0.798429, -0.638778, -1.10643)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:rotation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.7),
"transitions": PackedFloat32Array(-2, -2),
"update": 0,
"values": [Vector3(-0.821539, 1.02657, 2.03086), Vector3(-0.372226, 1.9513, 1.27476)]
}

[sub_resource type="Animation" id="Animation_c70jo"]
resource_name = "attack_3"
length = 0.5
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.5),
"transitions": PackedFloat32Array(-2, -2),
"update": 0,
"values": [Vector3(-0.78421, 0, -1.5092), Vector3(-0.78421, 0, -2.56022)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:rotation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.5),
"transitions": PackedFloat32Array(-2, -2),
"update": 0,
"values": [Vector3(0.56882, -1.5708, -1.5708), Vector3(-0.441586, -1.5708, -1.5708)]
}

[sub_resource type="Animation" id="Animation_ke2lw"]
resource_name = "idle"
length = 3.0
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1.5, 3),
"transitions": PackedFloat32Array(-2, -2, -2),
"update": 0,
"values": [Vector3(-0.460536, 0.2, -0.865706), Vector3(-0.460536, -0.0104056, -0.865706), Vector3(-0.460536, 0.2, -0.865706)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:rotation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 1.5, 3),
"transitions": PackedFloat32Array(-2, -2, -2),
"update": 0,
"values": [Vector3(0.785398, -3.11093, -3.14159), Vector3(0.905172, -3.0659, -3.13654), Vector3(0.785398, -3.11093, -3.14159)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_d1nv2"]
_data = {
"RESET": SubResource("Animation_cdb5k"),
"attack_1": SubResource("Animation_3pwxn"),
"attack_2": SubResource("Animation_n3ax8"),
"attack_3": SubResource("Animation_c70jo"),
"idle": SubResource("Animation_ke2lw")
}

[node name="n_sword" type="Node3D" node_paths=PackedStringArray("animation_player", "hitbox")]
transform = Transform3D(-0.999529, -0.0216777, 0.0216803, -1.79264e-06, -0.707105, -0.707107, 0.0306588, -0.706773, 0.706774, -0.460536, -1.19209e-07, 0.134294)
script = ExtResource("1_fn0np")
animation_player = NodePath("AnimationPlayer")
hitbox = NodePath("a_hitbox")
stats = ExtResource("2_6w0u8")

[node name="mglb_sword" parent="." instance=ExtResource("3_wvprq")]
transform = Transform3D(3.86772, 0.167924, -0.167944, 0.167924, -3.87136, -0.00364244, -0.167944, -0.0036422, -3.87136, -0.0275914, 1.2725, 0.000299603)

[node name="a_hitbox" type="Area3D" parent="."]
collision_layer = 4
collision_mask = 3
monitoring = false

[node name="collision" type="CollisionShape3D" parent="a_hitbox"]
transform = Transform3D(1, 7.45058e-08, -2.6077e-07, -1.28523e-07, 1, -1.19209e-07, -3.72529e-09, 2.98023e-08, 1, -1.49012e-08, -0.40342, 0)
shape = SubResource("BoxShape3D_i3ksc")

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_d1nv2")
}
autoplay = "idle"

[connection signal="animation_finished" from="AnimationPlayer" to="." method="_on_animation_player_animation_finished"]
