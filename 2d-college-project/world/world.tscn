[gd_scene load_steps=8 format=3 uid="uid://btwjkp4qowkxd"]

[ext_resource type="Texture2D" uid="uid://b2mrt4h3s1v1k" path="res://icon.svg" id="1_2duf6"]
[ext_resource type="PackedScene" uid="uid://38gm7c4pkys0" path="res://player/player.tscn" id="2_72sgc"]
[ext_resource type="Texture2D" uid="uid://d4ng82q4jmknw" path="res://enemies/lobotomy_patient.png" id="3_pgcfl"]
[ext_resource type="Script" path="res://enemies/scripts/edge_check.gd" id="4_0xeg1"]
[ext_resource type="Script" path="res://enemies/scripts/ground_edge_move.gd" id="4_yp0eu"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_6mgo0"]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_00q4u"]
radius = 6.0
height = 28.0

[node name="Node2D" type="Node2D"]

[node name="ground" type="Node2D" parent="."]
scale = Vector2(9.96, 1)

[node name="staticbody" type="StaticBody2D" parent="ground"]

[node name="collision" type="CollisionShape2D" parent="ground/staticbody"]
shape = SubResource("RectangleShape2D_6mgo0")

[node name="sprite" type="Sprite2D" parent="ground"]
scale = Vector2(0.15, 0.15)
texture = ExtResource("1_2duf6")

[node name="ground2" type="Node2D" parent="."]
position = Vector2(154, -39)
scale = Vector2(9.96, 1)

[node name="staticbody" type="StaticBody2D" parent="ground2"]

[node name="collision" type="CollisionShape2D" parent="ground2/staticbody"]
shape = SubResource("RectangleShape2D_6mgo0")

[node name="sprite" type="Sprite2D" parent="ground2"]
scale = Vector2(0.15, 0.15)
texture = ExtResource("1_2duf6")

[node name="ground3" type="Node2D" parent="."]
position = Vector2(-157, -47)
scale = Vector2(9.96, 1)

[node name="staticbody" type="StaticBody2D" parent="ground3"]

[node name="collision" type="CollisionShape2D" parent="ground3/staticbody"]
shape = SubResource("RectangleShape2D_6mgo0")

[node name="sprite" type="Sprite2D" parent="ground3"]
scale = Vector2(0.15, 0.15)
texture = ExtResource("1_2duf6")

[node name="ground4" type="Node2D" parent="."]
position = Vector2(-250, -3.8147e-06)
scale = Vector2(9.96, 1)

[node name="staticbody" type="StaticBody2D" parent="ground4"]

[node name="collision" type="CollisionShape2D" parent="ground4/staticbody"]
shape = SubResource("RectangleShape2D_6mgo0")

[node name="sprite" type="Sprite2D" parent="ground4"]
scale = Vector2(0.15, 0.15)
texture = ExtResource("1_2duf6")

[node name="ground5" type="Node2D" parent="."]
position = Vector2(74, -138)
scale = Vector2(9.96, 1)

[node name="staticbody" type="StaticBody2D" parent="ground5"]

[node name="collision" type="CollisionShape2D" parent="ground5/staticbody"]
shape = SubResource("RectangleShape2D_6mgo0")

[node name="sprite" type="Sprite2D" parent="ground5"]
scale = Vector2(0.15, 0.15)
texture = ExtResource("1_2duf6")

[node name="ground6" type="Node2D" parent="."]
position = Vector2(162, -113)
rotation = 1.57079
scale = Vector2(9.96, 1)

[node name="staticbody" type="StaticBody2D" parent="ground6"]

[node name="collision" type="CollisionShape2D" parent="ground6/staticbody"]
shape = SubResource("RectangleShape2D_6mgo0")

[node name="sprite" type="Sprite2D" parent="ground6"]
scale = Vector2(0.15, 0.15)
texture = ExtResource("1_2duf6")

[node name="ground7" type="Node2D" parent="."]
position = Vector2(207, -111)
rotation = 1.57079
scale = Vector2(9.96, 1)

[node name="staticbody" type="StaticBody2D" parent="ground7"]

[node name="collision" type="CollisionShape2D" parent="ground7/staticbody"]
shape = SubResource("RectangleShape2D_6mgo0")

[node name="sprite" type="Sprite2D" parent="ground7"]
scale = Vector2(0.15, 0.15)
texture = ExtResource("1_2duf6")

[node name="player" parent="." instance=ExtResource("2_72sgc")]

[node name="ground_enemy" type="CharacterBody2D" parent="."]
position = Vector2(-154, -71)

[node name="sprite" type="Sprite2D" parent="ground_enemy"]
texture = ExtResource("3_pgcfl")

[node name="scripts" type="Node2D" parent="ground_enemy"]

[node name="movement" type="Node2D" parent="ground_enemy/scripts" node_paths=PackedStringArray("edge_check", "character_body")]
script = ExtResource("4_yp0eu")
edge_check = NodePath("../edge_check")
character_body = NodePath("../..")
move_speed = 75.0

[node name="edge_check" type="Node2D" parent="ground_enemy/scripts" node_paths=PackedStringArray("ground_ray")]
script = ExtResource("4_0xeg1")
ground_ray = NodePath("../../ground_ray")
check_time = 0.5

[node name="collision" type="CollisionShape2D" parent="ground_enemy"]
shape = SubResource("CapsuleShape2D_00q4u")

[node name="ground_ray" type="RayCast2D" parent="ground_enemy"]
position = Vector2(14, 5)
target_position = Vector2(0, 14)
